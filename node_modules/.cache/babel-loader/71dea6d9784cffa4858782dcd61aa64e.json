{"ast":null,"code":"var _jsxFileName = \"/Users/stephenayoola/Documents/GitHub/OptimalWeather/src/components/Details/Details.tsx\";\nimport React, { useState } from 'react';\nimport Temperature from '../Temperature/Temperature';\nimport handleSetFilter from '../../utils/handleSetState';\nimport './Details.scss';\nexport const getDataToRender = (renderFiltered, dataArr, props) => {\n  var _props$weatherObj;\n\n  return renderFiltered ? dataArr : (_props$weatherObj = props.weatherObj) === null || _props$weatherObj === void 0 ? void 0 : _props$weatherObj.data;\n};\nexport const filterData = props => (minOrMaxValue, inputValue) => setData => {\n  var _props$weatherObj2, _props$weatherObj2$da;\n\n  const filtered = props === null || props === void 0 ? void 0 : (_props$weatherObj2 = props.weatherObj) === null || _props$weatherObj2 === void 0 ? void 0 : (_props$weatherObj2$da = _props$weatherObj2.data) === null || _props$weatherObj2$da === void 0 ? void 0 : _props$weatherObj2$da.filter(day => {\n    if (minOrMaxValue === 'min') {\n      return day.min_temp <= inputValue;\n    }\n\n    if (minOrMaxValue === 'max') {\n      return day.max_temp >= inputValue;\n    }\n  });\n  setData(filtered);\n};\nexport const handleNumberInput = setValue => e => {\n  const target = e.target;\n  setValue(parseInt(target.value));\n};\nexport const getFiltered = (setRenderFiltered, props, filter, value, setData) => e => {\n  e.preventDefault();\n  filterData(props)(filter, value)(setData);\n  setRenderFiltered(true);\n};\nexport default function Details(props) {\n  var _props$weatherObj3, _props$weatherObj4;\n\n  const [value, setValue] = useState(0);\n  const handleInput = handleNumberInput(setValue);\n  const [data, setData] = useState([]);\n  const [renderFiltered, setRenderFiltered] = useState(false);\n  const [filter, setFilter] = useState('');\n  const selectFilter = handleSetFilter(setFilter);\n  const getFilteredTemps = getFiltered(setRenderFiltered, props, filter, value, setData);\n  const dataToRender = getDataToRender(renderFiltered, data, props);\n  const currentDate = new Date();\n\n  const dateForecast = datafordate => {\n    let dateTimeMap = new Date(datafordate);\n    const mappedDate = dateTimeMap.toDateString();\n    return mappedDate;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailsbody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, props.error && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 23\n    }\n  }, \"Please choose a city.\"), ((_props$weatherObj3 = props.weatherObj) === null || _props$weatherObj3 === void 0 ? void 0 : _props$weatherObj3.data) && props.type === 'current' && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, currentDate.toDateString()), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, currentDate.toLocaleTimeString()), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"city-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, props.weatherObj.data[0].city_name)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, Math.round(props.weatherObj.data[0].temp), \" \\xB0C\"), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"weather icon\",\n    src: `https://www.weatherbit.io/static/img/icons/${props.weatherObj.data[0].weather.icon}.png`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  })), ((_props$weatherObj4 = props.weatherObj) === null || _props$weatherObj4 === void 0 ? void 0 : _props$weatherObj4.data) && props.type === 'sixteenDays' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Temperature, {\n    handleNumberInput: handleInput,\n    selectFilter: selectFilter,\n    getTemperatures: getFilteredTemps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"city-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 38\n    }\n  }, props.weatherObj.city_name)), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"city-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, currentDate.toDateString())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, dataToRender !== undefined && dataToRender.map(day => /*#__PURE__*/React.createElement(\"dl\", {\n    className: \"day\",\n    key: day.datetime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"dt\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, dateForecast(day.datetime)), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"weather icon\",\n    className: \"image\",\n    src: `https://www.weatherbit.io/static/img/icons/${day.weather.icon}.png`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"dd\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, \" Min: \", Math.round(day.min_temp), \"\\xB0C \"), /*#__PURE__*/React.createElement(\"dd\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, \" Max \", Math.round(day.max_temp), \"\\xB0C \"))))));\n}","map":{"version":3,"sources":["/Users/stephenayoola/Documents/GitHub/OptimalWeather/src/components/Details/Details.tsx"],"names":["React","useState","Temperature","handleSetFilter","getDataToRender","renderFiltered","dataArr","props","weatherObj","data","filterData","minOrMaxValue","inputValue","setData","filtered","filter","day","min_temp","max_temp","handleNumberInput","setValue","e","target","parseInt","value","getFiltered","setRenderFiltered","preventDefault","Details","handleInput","setFilter","selectFilter","getFilteredTemps","dataToRender","currentDate","Date","dateForecast","datafordate","dateTimeMap","mappedDate","toDateString","error","type","toLocaleTimeString","city_name","Math","round","temp","weather","icon","undefined","map","datetime"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Temperature from '../Temperature/Temperature'\nimport handleSetFilter from '../../utils/handleSetState'\nimport './Details.scss'\n\ninterface dataObj {\n  city_name?: string\n  datetime: string\n  max_temp: number\n  min_temp: number\n  temp: number\n  weather: {\n    icon: string\n  }\n}\ntype dataArr = dataObj[]\n\nexport interface weatherData {\n  data?: dataArr\n  city_name?: string\n}\nexport interface responseData {\n  weatherObj?: weatherData\n  error?: boolean\n  type?: string\n  filter?: boolean\n}\n\nexport const getDataToRender = (\n  renderFiltered: boolean,\n  dataArr: dataArr | undefined,\n  props: responseData\n) => {\n  return renderFiltered ? dataArr : props.weatherObj?.data\n}\n\nexport const filterData = (props: responseData) => (\n  minOrMaxValue: string,\n  inputValue: number\n) => (setData: (value: any) => void) => {\n  const filtered = props?.weatherObj?.data?.filter((day) => {\n    if (minOrMaxValue === 'min') {\n      return day.min_temp <= inputValue\n    }\n    if (minOrMaxValue === 'max') {\n      return day.max_temp >= inputValue\n    }\n  })\n  setData(filtered)\n}\n\nexport const handleNumberInput = (setValue: (value: number) => void) => (\n  e: React.FormEvent<HTMLInputElement>\n) => {\n  const target = e.target as HTMLInputElement\n  setValue(parseInt(target.value))\n}\n\nexport const getFiltered = (\n  setRenderFiltered: (value: boolean) => void,\n  props: responseData,\n  filter: string,\n  value: number,\n  setData: (value: any) => void\n) => (e: React.SyntheticEvent) => {\n  e.preventDefault()\n  filterData(props)(filter, value)(setData)\n  setRenderFiltered(true)\n}\n\nexport default function Details(props: responseData) {\n  const [value, setValue] = useState<number>(0)\n  const handleInput = handleNumberInput(setValue)\n  const [data, setData] = useState<[]>([])\n  const [renderFiltered, setRenderFiltered] = useState(false)\n  const [filter, setFilter] = useState<string>('')\n  const selectFilter = handleSetFilter(setFilter)\n  const getFilteredTemps = getFiltered(\n    setRenderFiltered,\n    props,\n    filter,\n    value,\n    setData\n  )\n  const dataToRender = getDataToRender(renderFiltered, data, props)\n  const currentDate = new Date();\n  const dateForecast = (datafordate: string) => {\n    let dateTimeMap = new Date(datafordate)\n    const mappedDate = dateTimeMap.toDateString()\n    return mappedDate\n  }\n  return (\n    <div className='detailsbody'>\n      {props.error && <p className='warning'>Please choose a city.</p>}\n      {props.weatherObj?.data && props.type === 'current' && (\n        <div>\n          <h3>{currentDate.toDateString()}</h3>\n          <h5>{currentDate.toLocaleTimeString()}</h5>\n          <h3 className='city-style'>\n            <strong>{props.weatherObj.data[0].city_name}</strong>\n          </h3>\n          <p>{Math.round(props.weatherObj.data[0].temp)} °C</p>\n          <img\n            alt='weather icon'\n            src={`https://www.weatherbit.io/static/img/icons/${props.weatherObj.data[0].weather.icon}.png`}\n          />\n        </div>\n      )}\n      {props.weatherObj?.data && props.type === 'sixteenDays' && (\n        <>\n          <Temperature\n            handleNumberInput={handleInput}\n            selectFilter={selectFilter}\n            getTemperatures={getFilteredTemps}\n          />\n          <div> \n          <h3 className='city-style'><strong>{props.weatherObj.city_name}</strong></h3>\n          <h3 className='city-style'>{currentDate.toDateString()}</h3>\n          </div>\n          <div className='weather-list'>\n            {dataToRender !== undefined && \n              dataToRender.map((day) =>(\n                <dl className='day' key={day.datetime}>\n                  <dt>{dateForecast(day.datetime)}</dt>\n                  <img\n                    alt='weather icon'\n                    className='image'\n                    src={`https://www.weatherbit.io/static/img/icons/${day.weather.icon}.png`}\n                  />\n                  <dd> Min: {Math.round(day.min_temp)}°C </dd>\n                  <dd> Max {Math.round(day.max_temp)}°C </dd>\n                </dl>\n              )) }\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}